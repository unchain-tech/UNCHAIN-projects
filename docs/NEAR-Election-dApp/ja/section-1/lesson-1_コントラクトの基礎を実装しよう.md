### â›© ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã®åŸºç›¤ã‚’ä½œã‚ã†

**æŠ•ç¥¨ãªã®ã«ãªãœ NFTï¼Ÿ**

ä»Šå›ã¯æŠ•ç¥¨ã‚·ã‚¹ãƒ†ãƒ ã‚’ä½œã‚‹ã¯ãšã§ã™ãŒãªãœ`NFT`ãªã®ã§ã—ã‚‡ã†ã‹ï¼Ÿ

ãã‚Œã¯å€™è£œè€…ãŸã¡ã®æƒ…å ±ã€æŠ•ç¥¨åˆ¸ã®æƒ…å ±ã‚’ã©ã¡ã‚‰ã‚‚NFTã¨ã—ã¦ç®¡ç†ã—ã‚ˆã†ã¨ã—ã¦ã„ã‚‹ã‹ã‚‰ã§ã™ã€‚

å…·ä½“çš„ã«ã„ã†ã¨ã€å€™è£œè€…ãŸã¡ã®æƒ…å ±ã¯NFTã¨ã—ã¦`ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆå†…`ã«ä¿å­˜ã•ã‚Œã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ã€‚æŠ•ç¥¨æ¨©ã«é–¢ã—ã¦ã¯æŠ•ç¥¨ã‚’ã™ã‚‹äººãŸã¡ãŒmintã—ã¦`ä¸€æ™‚çš„ã«å½¼ã‚‰ã®ã‚‚ã®ã¨ãªã‚Š`ã€æŠ•ç¥¨ã‚’è¡Œã†ã¨ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã«`å›å`ã•ã‚Œã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ã€‚

ã“ã®ã‚ˆã†ãªç†ç”±ã‹ã‚‰ã“ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ã¯NFTã‚’ä½œã‚‹ãŸã‚ã®åŸºç¤ã®éƒ¨åˆ†ã‚’ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚’ã—ã¦ã„ãã¾ã™ï¼

**NFT ã®ã‚³ã‚¢ã¨ã¯ãªã«ã‹**

NFTã‚’ä½œã‚‹ã«ã‚ãŸã£ã¦é–‹ç™ºè€…ã«æ„è­˜ã—ã¦ã»ã—ã„ç‚¹ãŒã‚ã‚Šã¾ã™ã€‚

ãã‚Œã¯ã€NFTã¯ã‚ãã¾ã§è­˜åˆ¥å­ï¼ˆunique identifierï¼‰ã§ã‚ã‚‹ç‚¹ã§ã™ã€‚
NFTã«ã¯ã€å¤šãã®è¦ç´ ï¼ˆä¾‹ãˆã°ç”»åƒï¼‰ã‚’ã¤ã‘ã‚‹ã“ã¨ãŒã§ãã€ã¤ã„ãã¡ã‚‰ã«ç›®ãŒã„ããŒã¡ã«ãªã£ã¦ã—ã¾ã†ã®ã§ã™ãŒã€ã‚ãã¾ã§ãã‚Œã¯ã€è­˜åˆ¥å­ã«ç´ä»˜ã‘ã‚‰ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ãªã®ã§ã™ã€‚

ã“ã“ã‚’æ„è­˜ã—ãªãŒã‚‰ã€é–‹ç™ºã‚’ã™ã‚‹ã¨ã€ç†è§£åº¦ãŒãœã‚“ãœã‚“é•ã†ã¨æ€ã†ã®ã§ã€ãœã²ãã‚Œã‚’æ„è­˜ã—ãªãŒã‚‰ã“ã‚Œã‹ã‚‰ã®sectionã‚’è¦‹ã¦ã„ã£ã¦ãã ã•ã„ï¼

**ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã‚ˆã†**

ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã«å…¥ã‚‹å‰ã«å¿…è¦ãªãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¦ã„ãã¾ã—ã‚‡ã†ï¼ ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã™ã‚‹æ–¹æ³•ã¯2ã¤ã‚ã‚Šã¾ã™ã€‚

ï¼ˆ1ï¼‰ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œã‚‹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•ã—ã¦ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§å®Ÿè¡Œã™ã‚‹

```
touch FILE_NAME
```

ï¼ˆ2ï¼‰ä¸‹ã®ã‚ˆã†ã«ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ä¸Šã§ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œã‚‹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’å³ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãƒ•ã‚¡ã‚¤ãƒ«åã‚’è¨˜å…¥
![](/public/images/NEAR-Election-dApp/section-1/1_1_1.png)

å€‹äººçš„ã«ã¯ï¼ˆ2ï¼‰ã®æ–¹ãŒæ¥½ãªã®ã§ã“ã¡ã‚‰ã®æ–¹æ³•ã§ã‚„ã‚‹ã“ã¨ãŒå¤šã„ã§ã™ã€‚ã“ã®ã©ã¡ã‚‰ã‹ã®æ–¹æ³•ã‚’ç”¨ã„ã¦ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª(ã“ã“ã§ã¯`contract`)ã«ä»¥ä¸‹ã®ã‚ˆã†ãªãƒ•ã‚¡ã‚¤ãƒ«æ§‹é€ ã‚’ä½œæˆã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

æœ«å°¾ãŒ`/`ã¨ãªã£ã¦ã„ã‚‹ã‚‚ã®ã¯ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã€ãã†ã§ãªã„ã‚‚ã®ã¯ãƒ•ã‚¡ã‚¤ãƒ«ã§ã‚ã‚‹ã“ã¨ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚

```diff
  contract/
  â”œâ”€â”€ Cargo.lock
  â”œâ”€â”€ Cargo.toml
  â”œâ”€â”€ src/
+ â”‚   â”œâ”€â”€ vote.rs
+ â”‚   â”œâ”€â”€ enumeration.rs
+ â”‚   â”œâ”€â”€ internal.rs
  â”‚   â”œâ”€â”€ lib.rs
+ â”‚   â”œâ”€â”€ metadata.rs
+ â”‚   â”œâ”€â”€ mint.rs
+ â”‚   â””â”€â”€ nft_core.rs
  â””â”€â”€ target/
      â”œâ”€â”€ CACHEDIR.TAG
      â””â”€â”€ debug/
```

ã“ã‚Œã§ãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆã¯å®Œäº†ã§ã™ï¼

ã¾ãŸã€ã“ã“ã‹ã‚‰ã¯ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã®ä½œæˆã‚’ãƒ¡ã‚¤ãƒ³ã«è¡Œã†ã®ã§ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§`cd`ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã£ã¦`contract`ã¸ç§»å‹•ã—ã¦ãŠãã¾ã—ã‚‡ã†

**NFT ã«é–¢ã™ã‚‹æƒ…å ±ã‚’æ ¼ç´ã™ã‚‹ãŸã‚ã®ã‚³ãƒ¼ãƒ‰ã‚’è¨˜è¿°ã—ã‚ˆã†**

NFTã‚’ä½œã‚‹ãŸã‚ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯ã‚ã‚Šã¾ã™ãŒã€ä»Šå›ã¯ã‚ãˆã¦ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ã‚ãšã«ä¸€ã‹ã‚‰ä½œã£ã¦ã„ãã¾ã™ã€‚NFTã«å¿…è¦ãªè¦ç´ ã¨ã—ã¦

1. æƒ…å ±ï¼ˆç”»åƒã®URLã€åå‰ã€èª¬æ˜etcï¼‰ã‚’æ ¼ç´ã§ãã‚‹ã“ã¨

2. mintã€transferãŒã§ãã‚‹ã“ã¨

ãŒæŒ™ã’ã‚‰ã‚Œã¾ã™ã€‚

Lesson1ã§ã¯1. ã®æƒ…å ±ã®æ ¼ç´ã‚’å®Ÿè£…ã—ã¦ã„ãã¾ã™ï¼

**Cargo.toml ãƒ•ã‚¡ã‚¤ãƒ«ã®ç·¨é›†**

åºç›¤ã§ã‚‚èª¬æ˜ã—ã¾ã—ãŸãŒã€`Cargo.toml`ãƒ•ã‚¡ã‚¤ãƒ«ã§ã¯ã“ã®ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã®æƒ…å ±ãŒè¨˜è¿°ã•ã‚Œã¦ã„ã¾ã™ã€‚ä½œæˆè€…ã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã€ä½¿ç”¨ã™ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãªã©ã®æƒ…å ±ã§ã™ã€‚

ç‰¹ã«æœ€å¾Œã®ä½¿ç”¨ã™ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’è¨˜è¿°ã—ã¦ã„ãªã„ã¨ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«ä½¿ç”¨ã§ããšã‚¨ãƒ©ãƒ¼ãŒå‡ºã¦ã—ã¾ã†ã®ã§æ›¸ãæ¼ã‚Œã®ãªã„ã‚ˆã†ã«ä¸‹ã®ã‚ˆã†ã«æ›¸ãæ›ãˆã¾ã—ã‚‡ã†ã€‚

[Cargo.toml]

```
[package]
name = "contract"
version = "0.1.0"
authors = ["YOUR_NAME", "YOUR_MAIL_ADDRESS"]
edition = "2021"

# See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html

[dependencies]
near-sdk = "4.0.0"

[lib]
crate-type = ["cdylib", "rlib"]

[profile.release]
codegen-units=1
opt-level = "z"
lto = true
debug = false
panic = "abort"
overflow-checks = true
```

â€»[dependencies]ã®near-sdkã¯2022/7/23æ™‚ç‚¹ã§ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãªã®ã§ã€å‹•ã‹ãªã„ã‚ˆã†ãªã‚‰ä½œæˆæ™‚ã®æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’å…¥ã‚Œã¦ã¿ã¦ãã ã•ã„

ã§ã¯æ¬¡ã¯`lib.rs`ã«ç§»ã£ã¦ã€å…ƒã€…è¨˜è¿°ã—ã¦ã‚ã‚‹ã‚³ãƒ¼ãƒ‰ã‚’ä¸Šæ›¸ãã—ã¦ã€ä½¿ç”¨ã™ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä¸‹ã®ã‚ˆã†ã«å®£è¨€ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

[lib.rs]

```rust
use near_sdk::borsh::{self, BorshDeserialize, BorshSerialize};
use near_sdk::collections::{LazyOption, LookupMap, UnorderedMap, UnorderedSet};
use near_sdk::json_types::U128;
use near_sdk::serde::{Deserialize, Serialize};
use near_sdk::{env, near_bindgen, AccountId, Balance, CryptoHash, PanicOnDefault, Promise};

mod vote;
mod enumeration;
mod internal;
mod metadata;
mod mint;
mod nft_core;

pub use crate::enumeration::*;
use crate::internal::*;
pub use crate::metadata::*;
pub use crate::mint::*;
pub use crate::nft_core::*;
pub use vote::*;

```

ãã‚Œãã‚Œã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«ã¤ã„ã¦ã¯ä½¿ç”¨ã™ã‚‹éš›ã«ç´°ã‹ãèª¬æ˜ã™ã‚‹ã®ã§ã“ã“ã§ã¯å‰²æ„›ã—ã¾ã™ãŒã€å¤§ã¾ã‹ã«ä½•ã‚’è¨˜è¿°ã—ã¦ã„ã‚‹ã®ã‹ã‚’èª¬æ˜ã—ã¾ã™ã€‚

æœ€åˆã®éƒ¨åˆ†ã§ã¯Cargo.tomlãƒ•ã‚¡ã‚¤ãƒ«ã§è¿½åŠ ã—ãŸnear-sdkã®ä¸­ã§ä»Šå›ä½¿ã†éƒ¨åˆ†ã‚’å®£è¨€ã—ã¦ã„ã¾ã™ã€‚

```rust
use near_sdk::borsh::{self, BorshDeserialize, BorshSerialize};
use near_sdk::collections::{LazyOption, LookupMap, UnorderedMap, UnorderedSet};
use near_sdk::json_types::U128;
use near_sdk::serde::{Deserialize, Serialize};
use near_sdk::{env, near_bindgen, AccountId, Balance, CryptoHash, PanicOnDefault, Promise};
```

æ¬¡ã®éƒ¨åˆ†ã§ã¯ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã§ä½œæˆã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’å–ã‚Šè¾¼ã‚“ã§ä½¿ãˆã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚(æ‹¡å¼µå­ã§ã‚ã‚‹`.rs`ã¯é™¤ã„ã¦æ›¸ãã®ãŒãƒ«ãƒ¼ãƒ«ã§ã™ã€‚)

```rust
mod vote;
mod enumeration;
mod internal;
mod metadata;
mod mint;
mod nft_core;
```

ã“ã‚Œã¯`lib.rs ãŒ crate ãƒ«ãƒ¼ãƒˆ`ã¨ã„ã†ã‚‚ã®ã§ã‚ã‚‹ã“ã¨ã‹ã‚‰å¿…è¦ãªã“ã¨ã§ã™ã€‚crateãƒ«ãƒ¼ãƒˆã¨ã¯ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã®é–‹å§‹ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã®ã“ã¨ã§ã™ã€‚

ãªã®ã§ã“ã“ã«ä½¿ç”¨ã™ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒæ›¸ã‹ã‚Œã¦ã„ãªã‘ã‚Œã°ä½¿ã‚ãªã„ã¨åˆ¤æ–­ã•ã‚Œã¦ã—ã¾ã„ã¾ã™ã€‚

æœ€å¾Œã®éƒ¨åˆ†ã§ã¯å–ã‚Šè¾¼ã‚“ã ãƒ•ã‚¡ã‚¤ãƒ«ã®å†…å®¹ã‚’lib.rsã§ä½¿ãˆã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚

```rust
pub use crate::enumeration::*;
use crate::internal::*;
pub use crate::metadata::*;
pub use crate::mint::*;
pub use crate::nft_core::*;
pub use vote::*;
```

`crate`ã¨ã„ã†ã®ã¯crateãƒ«ãƒ¼ãƒˆã®`lib.rs`ã®ã“ã¨ã§ã‚ã‚Šã€`::`ã¨ã„ã†ã®ã¯ãƒ•ã‚¡ã‚¤ãƒ«æ§‹é€ ã®è¨˜è¿°ã§ä½¿ã‚ã‚Œã‚‹`/`ã¨åŒã˜æ„å‘³ã§1ã¤ä¸‹ã®éšå±¤ã®ã‚‚ã®ã‚’è¡¨ã™ã¨ãã«ä½¿ã‚ã‚Œã¾ã™ã€‚

æœ«å°¾ã®`*`ã¯ãã®ãƒ•ã‚¡ã‚¤ãƒ«ãªã„ã®å…¨ã¦ã®ãƒ¡ã‚½ãƒƒãƒ‰ãŒå…¨ã¦ä½¿ãˆã‚‹ã‚ˆã¨ã„ã†ã“ã¨ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚ã¾ãŸã€æœ€åˆã®`pub`ã¯ã©ã“ã§ã‚‚ä½¿ãˆã‚‹ï¼ˆpublicï¼‰ã¨ã„ã†ã“ã¨ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚

å¾Œã§èª¬æ˜ã—ã¾ã™ãŒ`internal.rs`ã¯å†…éƒ¨ã§ã—ã‹ä½¿ã£ã¦ã»ã—ããªã„ã®ã§`pub`ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã¯ã¤ã„ã¦ã„ãªã„ã¯ãšã§ã™ã€‚

ã“ã‚Œã§ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®å®£è¨€ã¯å®Œäº†ã—ãŸã®ã§ã€ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆãŒæ ¼ç´ã™ã‚‹ãƒ‡ãƒ¼ã‚¿ã®å‹ã‚’å®£è¨€ã—ã¦ã„ãã¾ã—ã‚‡ã†ã€‚

**æ ¼ç´ã™ã‚‹ãƒ‡ãƒ¼ã‚¿ã®å‹ã‚’å®£è¨€ã™ã‚‹**

æ¬¡ã¯`metadata.rs`ã¸ç§»å‹•ã—ã¦ä¸‹ã®ã‚ˆã†ã«æ ¼ç´ã™ã‚‹ãƒ‡ãƒ¼ã‚¿ã®å‹ã‚’æ§‹é€ ä½“ã®å½¢ã§å®£è¨€ã—ã¦ã„ãã¾ã—ã‚‡ã†

ã‚¨ãƒ©ãƒ¼ãŒå‡ºã‚‹ã¨æ€ã„ã¾ã™ãŒã€æ°—ã«ã›ãšé€²ã¿ã¾ã—ã‚‡ã†ã€‚

[metadata.rs]

```rust
// ä»¥ä¸‹ã‚’è¿½åŠ ã—ã¦ãã ã•ã„
use crate::*;
pub type TokenId = u128;
pub type CandidateName = String;
pub type TokenKind = String;
pub type HasVoted = bool;
pub type ReceiverId = AccountId;
pub type Likes = f32;

#[derive(BorshDeserialize, BorshSerialize, Serialize, Deserialize, Clone)]
#[serde(crate = "near_sdk::serde")]

// metadata of contract
pub struct NFTContractMetadata {
    pub spec: String,
    pub name: String,
    pub reference: String,
}

```

ä¸‹ã®éƒ¨åˆ†ã§ã¯ã‚¯ãƒ¬ãƒ¼ãƒˆãƒ«ãƒ¼ãƒˆã§ã‚ã‚‹`lib.rs`ã®ä¸­ã®å…¨ã¦ã®ã‚‚ã®ã‚’ä½¿ã†ã“ã¨ãŒã§ãã‚‹ã“ã¨ãŒå®£è¨€ã•ã‚Œã¦ã„ã¾ã™ã€‚ã¾ãŸã€`pub type`ã§ç‰¹å®šã®æ–‡å­—åˆ—ãŒå‹ã‚’è¡¨ã™ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚

```rust
use crate::*;
pub type TokenId = u128;
pub type CandidateName = String;
pub type TokenKind = String;
pub type HasVoted = bool;
pub type ReceiverId = AccountId;
pub type Likes = f32;
```

ã“ã®éƒ¨åˆ†ã§ã¯`derive`ã«ã‚ˆã£ã¦å‹ã«å¯¾ã—ã¦ä½¿ãˆã‚‹ãƒˆãƒ¬ã‚¤ãƒˆã‚’å¢—ã‚„ã—ã¦ã„ã¾ã™ã€‚ãƒˆãƒ¬ã‚¤ãƒˆã¨ã¯ç‰¹å®šã®å‹ã«å­˜åœ¨ã™ã‚‹å…±é€šã®æŒ¯ã‚‹èˆã„ã®ã“ã¨ã§ã™ã€‚

ãã®ã‚ã¨ã«ç¶šã`BorshDeserialize, ...`ãªã©ãŒæä¾›ã™ã‚‹ãƒˆãƒ¬ã‚¤ãƒˆã‚’`NFTContractMetadata`ã¨ã„ã†æ§‹é€ ä½“ãŒä½¿ãˆã‚‹ã‚ˆã†ã«ãªã‚‹ã¨ã„ã†ã“ã¨ã§ã™ã€‚

```rust
#[derive(BorshSerialize, BorshDeserialize, Serialize, Deserialize, Clone)]
#[serde(crate = "near_sdk::serde")]
```

ãã‚Œãã‚Œã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®æ„å‘³ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚

`BorshSerialize`: ãƒã‚¤ãƒŠãƒªå½¢å¼ã§ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã‚’ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚ºã™ã‚‹ã“ã¨ã€‚ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚ºã¨ã¯ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®å®Ÿè¡ŒçŠ¶æ…‹ã‚„è¤‡é›‘ãªãƒ‡ãƒ¼ã‚¿æ§‹é€ ãªã©ã‚’1ã¤ã®æ–‡å­—åˆ—ã‚„ãƒã‚¤ãƒˆåˆ—ã¨ã—ã¦è¡¨ç¾ã™ã‚‹ã“ã¨ã§ãƒ‡ãƒ¼ã‚¿ã‚’ã‚„ã‚Šã¨ã‚Šã—ã‚„ã™ã„å½¢ã«ã™ã‚‹ã“ã¨ã§ã™ã€‚

`BorshDeserialize`:ãƒã‚¤ãƒŠãƒªå½¢å¼ã§ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚ºã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ã‚’å…ƒã®ãƒ‡ãƒ¼ã‚¿ã«æˆ»ã™ã“ã¨ã€‚

`Serialize`: jsonå½¢å¼ã§ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã‚’ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚ºã™ã‚‹ã“ã¨ã€‚ãƒã‚¤ãƒŠãƒªå½¢å¼ã§ã‚„ã‚‹ã“ã¨ã«å¯¾ã—ã¦äººãŒèª­ã‚€ã“ã¨ãŒã§ãã‚‹ã¨ã„ã†åˆ©ç‚¹ãŒã‚ã‚‹ä¸€æ–¹ã§ãƒ‡ãƒ¼ã‚¿ã®å®¹é‡ã‚’ã‚ˆã‚Šå¤šãã¨ã£ã¦ã—ã¾ã†ã¨ã„ã†çŸ­æ‰€ãŒã‚ã‚‹ã€‚

`Deserialize`: jsonå½¢å¼ã§ãƒªã‚¢ãƒ©ã‚¤ã‚ºã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ã‚’å…ƒã®ãƒ‡ãƒ¼ã‚¿ã«æˆ»ã™ã“ã¨ã€‚

`Clone`: å…ƒã®ãƒ‡ãƒ¼ã‚¿ã¨ã¯é•ã†ä¿ç®¡å ´æ‰€ã‚’æº–å‚™ã—ã¦ã€ãã“ã«å…ƒã®ãƒ‡ãƒ¼ã‚¿ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ä¿ç®¡ã§ãã‚‹ã€‚ã“ã‚Œã¯rustã®æ‰€æœ‰æ¨©ã®æ¦‚å¿µã¨é–¢ä¿‚ã—ã¦ãã‚‹ã®ã§[ã“ã¡ã‚‰](https://doc.rust-jp.rs/book-ja/ch04-01-what-is-ownership.html)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

`#[serde(crate = "near_sdk::serde")]`:ã€€`Serialize`ã‚’ä½¿ã†æ™‚ã«å¿…è¦ãªã‚‚ã®

ã“ã‚Œã‚‰ã®ä¸‹ã«è¨˜è¿°ã—ã¦ã„ã‚‹`NFTContractMetadata`ã¨ã„ã†æ§‹é€ ä½“ã¯ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆãã®ã‚‚ã®ã®æƒ…å ±ã‚’è¨˜è¿°ã—ã¦ã„ã¾ã™ã€‚ã‚¹ãƒšãƒƒã‚¯ã€åå‰ã€èª¬æ˜æ–‡ã‚’å…¥ã‚Œã‚‹ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚

ã¾ãŸã€Stringã‚„u128ã¨ã„ã†å‹ã«ã¤ã„ã¦ã¯[ã“ã¡ã‚‰](https://zenn.dev/mebiusbox/books/22d4c1ed9b0003/viewer/fb866b)ã‚’ã€`Option`ã¨ã„ã†å‹ã«ã¤ã„ã¦ã¯[ã“ã¡ã‚‰](https://zenn.dev/mebiusbox/books/22d4c1ed9b0003/viewer/0d7a68)ã‚’ã”è¦§ãã ã•ã„ã€‚

```rust
pub struct NFTContractMetadata {
    pub spec: String,
    pub name: String,
    pub reference: String,
}
```

åŒã˜ã‚ˆã†ã«ã—ã¦NFTã®æŒã¤ã¹ãæƒ…å ±ã‚’ã‚‚ã£ãŸæ§‹é€ ä½“(`TokenMetadata`)ã‚„ãƒˆãƒ¼ã‚¯ãƒ³ã®ã‚ªãƒ¼ãƒŠãƒ¼ã¨ãƒˆãƒ¼ã‚¯ãƒ³ã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’ä¸€ç·’ã«ã—ã¦ã„ã‚‹æ§‹é€ ä½“(`JsonToken`)ã‚’å®£è¨€ã—ã¦ã„ãã¾ã—ã‚‡ã†ã€‚

[metadata.rs]

```diff
use crate::*;
pub type TokenId = u128;
pub type CandidateName = String;
pub type TokenKind = String;
pub type HasVoted = bool;
pub type ReceiverId = AccountId;
pub type Likes = f32;

#[derive(BorshDeserialize, BorshSerialize, Serialize, Deserialize, Clone)]
#[serde(crate = "near_sdk::serde")]
pub struct NFTContractMetadata {
    pub spec: String,
    pub name: String,
    pub reference: String,
}

+ #[derive(BorshDeserialize, BorshSerialize, Serialize, Deserialize)]
+ #[serde(crate = "near_sdk::serde")]
+ pub struct TokenMetadata {
+     pub title: Option<String>,
+     pub description: Option<String>,
+     pub media: String,
+     pub media_CID: String,
+     pub candidate_name: Option<String>,
+     pub candidate_manifest: Option<String>,
+     pub token_kind: String,
+     pub token_id: Option<u128>,
+ }
+
+ #[derive(BorshDeserialize, BorshSerialize)]
+ pub struct TokenOwner {
+     pub owner_id: AccountId,
+ }
+
+ #[derive(Serialize, Deserialize)]
+ #[serde(crate = "near_sdk::serde")]
+
+ // metadata of type of Json
+ pub struct JsonToken {
+     pub owner_id: AccountId,
+     pub metadata: TokenMetadata,
+ }
```

`TokenMetadata`ã¨ã„ã†æ§‹é€ ä½“ã«ã¤ã„ã¦æ³¨æ„ã—ã¦ãŠã‹ãªã‘ã‚Œã°ã„ã‘ãªã„ã“ã¨ã‚’èª¬æ˜ã—ã¾ã™ã€‚æ§‹é€ ä½“ã®ä¸­ã§å®£è¨€ã•ã‚Œã¦ã„ã‚‹åå‰ã«ã¤ã„ã¦ã§ã™ã€‚

ã©ã®ã‚ˆã†ãªåå‰ã«ã—ã¦ã‚‚NFTè‡ªä½“ã«å€¤ã¨ã—ã¦ä¿å­˜ã•ã‚Œã‚‹ã®ã§ã™ãŒã€`title`, `media`ã«é–¢ã—ã¦ã¯é–“é•ãˆãªã„ã‚ˆã†ã«ã—ã¦ãã ã•ã„ã€‚Walletã«ç”»åƒã‚„ãã®NFTã®åå‰ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã®ã¯ã“ã‚Œã‚‰ã®åå‰ã®å¤‰æ•°ã«æ ¼ç´ã•ã‚Œã¦ã„ã‚‹å€¤ã‚’å‚ç…§ã—ã¦ã„ã‚‹ã‹ã‚‰ã§ã™ã€‚

ç‰¹ã«ä»Šå›ä½œæˆã™ã‚‹ã‚·ã‚¹ãƒ†ãƒ ã§ã¯æŠ•ç¥¨åˆ¸ãŒãƒ¦ãƒ¼ã‚¶ãƒ¼ã®walletä¸Šã§è¦‹ã‚‹ã“ã¨ãŒã§ãã‚‹å¿…è¦ãŒã‚ã‚‹ã®ã§ã“ã“ã®éƒ¨åˆ†ã¯ååˆ†æ³¨æ„ã—ã¦è¨˜è¿°ã—ãªã„ã¨ä½•ã®ã‚¨ãƒ©ãƒ¼ã‚‚ãªã„ã®ã«è¦‹ã‚Œãªã„ã¨ã„ã†åœ°ç„ã«é™¥ã£ã¦ã—ã¾ã„ã¾ã™ã€‚ã“ã‚Œã§ï¼‘æ—¥æ½°ã™äººãŒã„ã‚‹ã»ã©ã§ã™ã‹ã‚‰ ğŸ«£

ã§ã¯æœ€å¾Œã«å…ˆã»ã©å‡ºã¦ããŸ`ãƒˆãƒ¬ã‚¤ãƒˆ`ã‚’è‡ªåˆ†ã§å®Ÿè£…ã—ã¦ã¿ã¾ã—ã‚‡ã†ï¼

[metadata.rs]

```diff
use crate::*;
pub type TokenId = u128;
pub type CandidateName = String;
pub type TokenKind = String;
pub type HasVoted = bool;
pub type ReceiverId = AccountId;
pub type Likes = f32;

#[derive(BorshDeserialize, BorshSerialize, Serialize, Deserialize, Clone)]
#[serde(crate = "near_sdk::serde")]

pub struct NFTContractMetadata {
    pub spec: String,
    pub name: String,
    pub reference: String,
}

#[derive(BorshDeserialize, BorshSerialize, Serialize, Deserialize)]
#[serde(crate = "near_sdk::serde")]

//metadata of Token
pub struct TokenMetadata {
    pub title: Option<String>,
    pub description: Option<String>,
    pub media: String,
    pub media_CID: String,
    pub candidate_name: Option<String>,
    pub candidate_manifest: Option<String>,
    pub token_kind: String,
    pub token_id: Option<u128>,
}

// metadata of Token Owner
#[derive(BorshDeserialize, BorshSerialize)]
pub struct TokenOwner {
    pub owner_id: AccountId,
}

#[derive(Serialize, Deserialize)]
#[serde(crate = "near_sdk::serde")]

// metadata of type of Json
pub struct JsonToken {
    pub owner_id: AccountId,
    pub metadata: TokenMetadata,
}

+ pub trait NFTTokenMetadata {
+     fn nft_metadata(&self) -> NFTContractMetadata;
+ }

+ // view function for contract info
+ #[near_bindgen]
+ impl NFTTokenMetadata for Contract {
+     fn nft_metadata(&self) -> NFTContractMetadata {
+         self.metadata.get().unwrap()
+     }
+ }
```

ã“ã“ã§ã¯`NFTTokenMetadata`ã¨ã„ã†æ§‹é€ ä½“ã§ä½¿ã†ã“ã¨ãŒã§ãã‚‹é–¢æ•°ã‚’è¿½åŠ ã—ã¾ã—ãŸã€‚å†…å®¹ã¨ã—ã¦ã¯ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã«æ ¼ç´ã•ã‚Œã¦ã„ã‚‹NFTã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’è¦‹ã‚‹ã“ã¨ãŒã§ãã‚‹ã¨ã„ã†ã‚‚ã®ã§ã™ã€‚

ã“ã‚Œã§metadata.rsã¯å®Œæˆã§ã™ã€‚

æ¬¡ã«ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆãŒæŒã¤æƒ…å ±ã‚’è¨˜è¿°ã—ã¦ã„ãã¾ã—ã‚‡ã†ã€‚ãªã®ã§æ¬¡ã¯lib.rsã«ç§»å‹•ã—ã¦ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆãŒæŒã¤ã¹ãæƒ…å ±ã‚’ä¸‹ã®ã‚ˆã†ã«è¨˜è¿°ã—ã¦ã„ãã¾ã—ã‚‡ã†ã€‚

[lib.rs]

```diff
use near_sdk::borsh::{self, BorshDeserialize, BorshSerialize};
use near_sdk::collections::{LazyOption, LookupMap, UnorderedMap, UnorderedSet};
use near_sdk::json_types::U128;
use near_sdk::serde::{Deserialize, Serialize};
use near_sdk::{env, near_bindgen, AccountId, Balance, CryptoHash, PanicOnDefault, Promise};

mod vote;
mod enumeration;
mod internal;
mod metadata;
mod mint;
mod nft_core;

pub use crate::enumeration::*;
use crate::internal::*;
pub use crate::metadata::*;
pub use crate::mint::*;
pub use crate::nft_core::*;
pub use vote::*;

+ #[near_bindgen]
+ #[derive(BorshDeserialize, BorshSerialize, PanicOnDefault)]
+ pub struct Contract {
+     // contract state value
+     pub owner_id: AccountId,
+     pub tokens_per_owner: LookupMap<AccountId, UnorderedSet<TokenId>>,
+     pub tokens_per_kind: LookupMap<TokenKind, UnorderedSet<TokenId>>,
+     pub tokens_by_id: LookupMap<TokenId, TokenOwner>,
+     pub token_metadata_by_id: UnorderedMap<TokenId, TokenMetadata>,
+     pub metadata: LazyOption<NFTContractMetadata>,
+     pub token_id_counter: u128,
+     pub likes_per_candidate: LookupMap<TokenId, Likes>,
+     pub added_voter_list: LookupMap<ReceiverId, TokenId>,
+     pub voted_voter_list: LookupMap<ReceiverId, u128>,
+     pub is_election_closed: bool,
+ }

+ #[derive(BorshSerialize)]
+ pub enum StorageKey {
+     TokensPerOwner,
+     TokensPerKind,
+     TokensPerOwnerInner { account_id_hash: CryptoHash },
+     TokensPerKindInner { token_kind: TokenKind },
+     TokensById,
+     TokenMetadataById,
+     TokensPerTypeInner { token_type_hash: CryptoHash },
+     NFTContractMetadata,
+     LikesPerCandidate,
+     AddedVoterList,
+     VotedVoterList,
+ }
```

è¿½åŠ ã—ãŸã‚‚ã®ã‚’ä¸Šã‹ã‚‰é †ç•ªã«èª¬æ˜ã—ã¦ã„ãã¾ã—ã‚‡ã†ã€‚ã¾ãš`#[near_bindgen]`ã¯nearã®ãƒã‚§ãƒ¼ãƒ³ä¸Šã§ä½¿ãˆã‚‹ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã®ã‚‚ã®ã§ã™ã€‚

æ¬¡ã®deriveã®ä¸­èº«ã«ã‚ã‚‹`PanicOnDefault`ã¯æ¬¡ã®ãƒ¬ãƒƒã‚¹ãƒ³ã§å‡ºã¦ãã‚‹åˆæœŸåŒ–ã®é–¢æ•°ãŒã¾ã å®Ÿè¡Œã•ã‚Œã¦ã„ãªã„æ™‚ã«ã‚¨ãƒ©ãƒ¼ã‚’å‡ºã—ã¦ãã‚Œã‚‹ã‚‚ã®ã§ã™ã€‚

æ¬¡ã«æ§‹é€ ä½“ã®å†…éƒ¨ã®å¤‰æ•°ã¯ä»¥ä¸‹ã®æ„å‘³ã‚’æŒã£ã¦ã„ã¾ã™ã€‚

- `owner_id`: ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã®ã‚ªãƒ¼ãƒŠãƒ¼ãŒèª°ã‹ãŒå…¥ã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ã€‚AccountIdã¨ã„ã†å‹ã¯Stringå‹ãªã®ã§ã™ãŒã€è‡ªå‹•çš„ã«Wallet Idã¨ã—ã¦æ­£ã—ã„ã‹ãƒã‚§ãƒƒã‚¯ã—ã¦ãã‚Œã‚‹ä¾¿åˆ©ãªå‹ã§ã™ã€‚

- `tokens_per_owner`: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®Wallet IdãŒkeyã¨ãªã£ã¦ã€æ‰€æœ‰ã™ã‚‹NFTã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ãŒæ ¼ç´ã•ã‚Œã¾ã™

- `tokens_per_kind`: kindï¼ˆç¨®é¡ï¼‰ãŒkeyã¨ãªã£ã¦ã€ãã‚Œã«åˆ†é¡ã•ã‚Œã‚‹ï¼ˆå±æ€§ã‚’ã‚‚ã¤ï¼‰NFTãŒæ ¼ç´ã•ã‚Œã¾ã™ã€‚å…·ä½“çš„ã«ã¯æŠ•ç¥¨åˆ¸ã¨å€™è£œè€…æƒ…å ±ã‚’åŒºåˆ¥ã™ã‚‹ãŸã‚ã«ç”¨æ„ã•ã‚Œã¦ã„ã¾ã™ã€‚

- `tokens_by_id`: tokenã®idãŒkeyã¨ãªã£ã¦ã€ãã‚Œã«å¯¾å¿œã™ã‚‹tokenã®ã‚ªãƒ¼ãƒŠãƒ¼ãŒæ ¼ç´ã•ã‚Œã¾ã™ã€‚ã“ã®å¤‰æ•°ã®ç›®çš„ã¨ã—ã¦ã¯NFTã‚’ä»–äººã«é€ã‚‹æ™‚ã«ãã®ãƒˆãƒ¼ã‚¯ãƒ³ãŒå­˜åœ¨ã—ã¦ã„ã‚‹ã®ã‹ã€ãã®ä¿æŒè€…ã¯é€ä¿¡è€…ã¨åŒä¸€ã§ã¯ãªã„ã‹ã‚’ç¢ºèªã™ã‚‹ãŸã‚ã§ã™ã€‚
- `token_metadata_by_id`: tokenã®idãŒkeyã¨ãªã£ã¦ã€ãã‚Œã«å¯¾å¿œã™ã‚‹NFTã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ãŒæ ¼ç´ã•ã‚Œã¾ã™ã€‚
- `metadata`: NFTã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ãŒé…åˆ—ã«æ ¼ç´ã•ã‚Œã¦ã„ã¾ã™ã€‚
- `token_id_counter`: tokenã®Idã‚’ã‚«ã‚¦ãƒ³ãƒˆã™ã‚‹ãŸã‚ã®å¤‰æ•°ã§ã™ã€‚mintã•ã‚Œã‚‹ãŸã³ã«1è¶³ã•ã‚Œã¦ã„ãã¾ã™ã€‚
- `likes_per_candidate`: tokenã®idãŒkeyã¨ãªã£ã¦ã€ãã‚Œã«å¯¾å¿œã™ã‚‹å¾—ç¥¨æ•°ãŒæ ¼ç´ã•ã‚Œã¦ã„ã¾ã™ã€‚
- `added_voter_list`: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®Wallet IdãŒkeyã¨ãªã£ã¦ã€ãã‚Œã«å¯¾å¿œã™ã‚‹tokenã®IdãŒæ ¼ç´ã•ã‚Œã¾ã™ã€‚ã“ã‚Œã¯æŠ•ç¥¨åˆ¸ãŒã™ã§ã«é…å¸ƒã•ã‚Œã¦ã„ã‚‹ã‹ã‚’ç¢ºèªã™ã‚‹ãŸã‚ã«å¿…è¦ã«ãªã‚Šã¾ã™ã€‚
- `voted_voter_list`: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®Wallet IdãŒkeyã¨ãªã£ã¦ã€0ã‹1ã®å€¤ãŒè¿”ã•ã‚Œã¾ã™ã€‚`added_voter_list`ã¨é•ã£ã¦tokenã®IdãŒè¿”ã£ã¦ã“ãªã„ã®ã¯ãƒ•ãƒ­ãƒ³ãƒˆã§ã®å®Ÿè£…ä¸Šå¿…è¦ãŒãªã„ã‹ã‚‰ã§ã™ã€‚ã“ã“ã§èª¬æ˜ã—ã¦ã‚‚ãƒ”ãƒ³ã¨ã“ãªã„ã‹ã‚‚ã—ã‚Œãªã„ã®ã§ãƒ•ãƒ­ãƒ³ãƒˆã§ã®å®Ÿè£…æ™‚ã«èª¬æ˜ã—ã¾ã™ã€‚
- `is_election_closed`: ã“ã®é¸æŒ™ãŒçµ‚ã‚ã£ã¦ã„ã‚‹ã‹ã©ã†ã‹ã‚’boolå‹ã§æ ¼ç´ã—ã¾ã™ã€‚ã“ã®ç®¡ç†ã¯ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã‚’deployã—ãŸäººã®ã¿ãŒã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

```rust
#[near_bindgen]
#[derive(BorshDeserialize, BorshSerialize, PanicOnDefault)]
pub struct Contract {
    // contract state value
    pub owner_id: AccountId,
    pub tokens_per_owner: LookupMap<AccountId, UnorderedSet<TokenId>>,
    pub tokens_per_kind: LookupMap<TokenKind, UnorderedSet<TokenId>>,
    pub tokens_by_id: LookupMap<TokenId, TokenOwner>,
    pub token_metadata_by_id: UnorderedMap<TokenId, TokenMetadata>,
    pub metadata: LazyOption<NFTContractMetadata>,
    pub token_id_counter: u128,
    pub likes_per_candidate: LookupMap<TokenId, Likes>,
    pub added_voter_list: LookupMap<ReceiverId, TokenId>,
    pub voted_voter_list: LookupMap<ReceiverId, u128>,
    pub is_election_closed: bool,
}
```

ãã®æ¬¡ã«è¨˜è¿°ã—ã¦ã„ã‚‹ã®ã¯ãã‚Œãã‚Œã®å¤‰æ•°ã«å¯¾å¿œã™ã‚‹enumå‹ã®å¤‰æ•°ã§åˆæœŸåŒ–ã®éš›ã«å¿…è¦ã«ãªã‚Šã¾ã™ã€‚ã“ã‚Œã¯ãã‚Œãã‚Œã®å¤‰æ•°ãŒæ ¼ç´ã•ã‚Œã‚‹ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã®ã‚¢ãƒ‰ãƒ¬ã‚¹ã®æ¥é ­è¾ã‚’ãƒ¦ãƒ‹ãƒ¼ã‚¯ãªã‚‚ã®ã«ã™ã‚‹ãŸã‚ã®ã‚‚ã®ã§ã™ã€‚

è©³ã—ãã¯[ã“ã¡ã‚‰](https://www.near-sdk.io/contract-structure/nesting)ã‚’ã”è¦§ãã ã•ã„ã€‚

```rust
#[derive(BorshSerialize)]
pub enum StorageKey {
    TokensPerOwner,
    TokensPerKind,
    TokensPerOwnerInner { account_id_hash: CryptoHash },
    TokensPerKindInner { token_kind: TokenKind },
    TokensById,
    TokenMetadataById,
    TokensPerTypeInner { token_type_hash: CryptoHash },
    NFTContractMetadata,
    LikesPerCandidate,
    AddedVoterList,
    VotedVoterList,
}
```

### ğŸ™‹â€â™‚ï¸ è³ªå•ã™ã‚‹

ã“ã“ã¾ã§ã®ä½œæ¥­ã§ä½•ã‹ã‚ã‹ã‚‰ãªã„ã“ã¨ãŒã‚ã‚‹å ´åˆã¯ã€Discordã®`#near`ã§è³ªå•ã‚’ã—ã¦ãã ã•ã„ã€‚

ãƒ˜ãƒ«ãƒ—ã‚’ã™ã‚‹ã¨ãã®ãƒ•ãƒ­ãƒ¼ãŒå††æ»‘ã«ãªã‚‹ã®ã§ã€ã‚¨ãƒ©ãƒ¼ãƒ¬ãƒãƒ¼ãƒˆã«ã¯ä¸‹è¨˜ã®4ç‚¹ã‚’è¨˜è¼‰ã—ã¦ãã ã•ã„ âœ¨

```
1. è³ªå•ãŒé–¢é€£ã—ã¦ã„ã‚‹ã‚»ã‚¯ã‚·ãƒ§ãƒ³ç•ªå·ã¨ãƒ¬ãƒƒã‚¹ãƒ³ç•ªå·
2. ä½•ã‚’ã—ã‚ˆã†ã¨ã—ã¦ã„ãŸã‹
3. ã‚¨ãƒ©ãƒ¼æ–‡ã‚’ã‚³ãƒ”ãƒ¼&ãƒšãƒ¼ã‚¹ãƒˆ
4. ã‚¨ãƒ©ãƒ¼ç”»é¢ã®ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ
```

---

é•·ã‹ã£ãŸã§ã™ãŒã“ã‚Œã§ãƒ‡ãƒ¼ã‚¿ã¨ãã‚Œã‚‰ã®å‹ã®å®£è¨€ã¯å®Œäº†ã—ã¾ã—ãŸï¼

æ¬¡ã‹ã‚‰ã¯å®Ÿéš›ã«ã“ã‚Œã‚‰ã®ãƒ‡ãƒ¼ã‚¿ã«å€¤ã‚’å…¥ã‚Œã¦ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã®æƒ…å ±ã‚’æ›´æ–°ã™ã‚‹æº–å‚™ã‚’ã—ã¦ã„ãã¾ã—ã‚‡ã†ï¼
