### â­ï¸ ã‚¨ã‚¢ãƒ‰ãƒ­ãƒƒãƒ—ã®åŸºç¤

å‰ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®æ®‹é«˜ãŒ0ã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã—ãŸãŒã€ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«è³‡é‡‘ã‚’ä¾›çµ¦ã—ã¦ã€æ®‹é«˜ã®å¤‰åŒ–ã‚’è¦‹ã‚‹ã“ã¨ãŒã§ããŸã‚‰ã„ã„ã¨æ€ã„ã¾ã›ã‚“ã‹ï¼Ÿ

ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ãŸã‚ã«å®Ÿéš›ã®ãŠé‡‘ã‚’é€é‡‘ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã®ã‹ã¨æ€ã†ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€å‰å›èª¬æ˜ã—ãŸã‚ˆã†ã«ã€ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ã®`Devnet`ã¯é€šå¸¸ã€å®Ÿéš›ã®çµŒæ¸ˆä¾¡å€¤ã‚’å±é™ºã«ã•ã‚‰ã™ã“ã¨ãªãå–å¼•ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹æ–¹æ³•ã‚’æä¾›ã—ã¾ã™ã€‚

ã“ã®ãƒ¬ãƒƒã‚¹ãƒ³ã§ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒ`SOL`ãƒˆãƒ¼ã‚¯ãƒ³ã‚’`Devnet`ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«ã€Œã‚¨ã‚¢ãƒ‰ãƒ­ãƒƒãƒ—ã€ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹æ©Ÿèƒ½ã‚’æ§‹ç¯‰ã—ã¾ã™ã€‚æš—å·ã®ä¸–ç•Œã§ã¯ã€ã‚¨ã‚¢ãƒ‰ãƒ­ãƒƒãƒ—ã¨ã¯ã€ãƒ—ãƒ­ãƒˆã‚³ãƒ«ãŒã‚¢ã‚«ã‚¦ãƒ³ãƒˆæ‰€æœ‰è€…ã«ç„¡æ–™ã§ãƒˆãƒ¼ã‚¯ãƒ³ã‚’é…å¸ƒã™ã‚‹æ–¹æ³•ã®ã“ã¨ã‚’è¨€ã„ã¾ã™ã€‚

ã“ã®å ´åˆã€ç§ãŸã¡ã¯Solanaã«çµ„ã¿è¾¼ã¾ã‚ŒãŸãƒã‚¤ãƒ†ã‚£ãƒ–ãª`Devnet`ã‚¨ã‚¢ãƒ‰ãƒ­ãƒƒãƒ—æ©Ÿèƒ½ã‚’åˆ©ç”¨ã—ã¦ã€ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«è³‡é‡‘ã‚’ä¾›çµ¦ã™ã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ã€‚ã“ã‚Œã¯ã€ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ãƒ»ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã‚„æš—å·ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒè¡Œã†ãƒ¡ã‚¤ãƒ³ãƒãƒƒãƒˆãƒ»ã‚¨ã‚¢ãƒ‰ãƒ­ãƒƒãƒ—ã¨ã¯å¯¾ç…§çš„ã§ã€é€šå¸¸ã€ã‚¢ãƒ¼ãƒªãƒ¼ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ã‚„è²¢çŒ®è€…ã«å ±ã„ã‚‹ãŸã‚ã«ç™ºè¡Œã•ã‚Œã‚‹ã‚‚ã®ã§ã™ã€‚

ã“ã®ãƒ¬ãƒƒã‚¹ãƒ³ã‚’å®Œäº†ã™ã‚‹ã¨ã€`Airdrop`ãƒœã‚¿ãƒ³ã‚’æŠ¼ä¸‹ã—ãŸã¨ãã«ã€è‡ªå‹•çš„ã«æ®‹é«˜ãŒå¢—ãˆã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚æ¬¡ã®ãƒ¬ãƒƒã‚¹ãƒ³ã§ã¯è³‡é‡‘ã®é€é‡‘æ©Ÿèƒ½ã‚’ã¤ãã‚‹ãŸã‚ã€ã“ã“ã§è‡ªåˆ†ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®è³‡é‡‘ã‚’å¢—ã‚„ã—ã¦ãŠãã¾ã—ã‚‡ã†ã€‚

### ğŸ›« å°å…¥

ã“ã“ã‹ã‚‰ã¯`components/Airdrop/index.js`ã‚’æ›´æ–°ã—ã¦ã„ãã¾ã™ã€‚

å‰ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ã€Solanaã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã®1ã¤ã¸ã®æ¥ç¶šã‚’ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹åŒ–ã™ã‚‹æ–¹æ³•ã¨ã€ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®å…¬é–‹éµãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’å¤‰æ•°ã«ä»£å…¥ã™ã‚‹æ–¹æ³•ã‚’å­¦ã³ã¾ã—ãŸã€‚åŒã˜ã‚³ãƒ¼ãƒ‰ã‚’ã“ã“ã§é©ç”¨ã—ã¦ã€`handleAirdrop`é–¢æ•°ã‚’ã¤ãã£ã¦ã„ãã¾ã—ã‚‡ã†ã€‚

ã¾ãšã¯ã€ã‚¨ã‚¢ãƒ‰ãƒ­ãƒƒãƒ—ã®å®Ÿè£…ã«å¿…è¦ãªãƒ¡ã‚½ãƒƒãƒ‰ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ã€ã“ã‚Œã¾ã§ã«ä½œæˆã—ãŸã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåŒæ§˜`Home`ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒä¿æŒã—ã¦ã„ã‚‹ãƒ‡ãƒ¼ã‚¿ã®ã†ã¡ã€å®Ÿè£…ã«å¿…è¦ãªãƒ‡ãƒ¼ã‚¿ã‚’å¼•æ•°ã¨ã—ã¦å—ã‘å–ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚

```javascript
import { Connection, LAMPORTS_PER_SOL } from '@solana/web3.js';

export default function Airdrop({ account, network, refreshBalance }) {
```

æ¬¡ã«ã€`handleAirdrop`é–¢æ•°ã‚’å®šç¾©ã—ã¦ã„ãã¾ã—ã‚‡ã†ã€‚`export default function Airdrop({ account, network, refreshBalance }) {`ã®ç›´ä¸‹ã«ã€ä¸‹è¨˜ã®ã‚³ãƒ¼ãƒ‰ã‚’è¿½åŠ ã—ã¦ãã ã•ã„ã€‚

```javascript
const handleAirdrop = async () => {
  try {

  } catch (error) {
    console.error(error);
  }
};
```

ãã‚Œã§ã¯ã€`handleAirdrop`é–¢æ•°ã®å†…éƒ¨ã‚’å®Ÿè£…ã—ã¦ã„ãã¾ã—ã‚‡ã†ã€‚`try-catch`æ–‡ã®`try{}`å†…ã«ã‚³ãƒ¼ãƒ‰ã‚’è¿½åŠ ã—ã¦ã„ãã¾ã™ã€‚

```javascript
const connection = new Connection(network, 'confirmed');

// console.log(connection);
// > Connection {_commitment: 'confirmed', _confirmTransactionInitialTimeout: undefined, _rpcEndpoint: 'https://api.devnet.solana.com', _rpcWsEndpoint: 'wss://api.devnet.solana.com/', _rpcClient: ClientBrowser, â€¦}
```

ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã§ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’æ¤œç´¢ã™ã‚‹ã¨ã„ã†ä»¥å‰ã®ãƒ’ãƒ¥ãƒ¼ãƒªã‚¹ãƒ†ã‚£ãƒƒã‚¯ãªæ–¹æ³•ã«å¾“ã£ã¦ã€ä»Šåº¦ã¯ã€Œairdropã€ã‚’æ¤œç´¢ã—ã¦ã€æ´»ç”¨ã§ãã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ãŒã‚ã‚‹ã‹ã©ã†ã‹ã‚’ç¢ºèªã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

é©šã„ãŸã“ã¨ã«ã€`Connection`ã‚¯ãƒ©ã‚¹ã«ã¯`requestAirdrop`ãƒ¡ã‚½ãƒƒãƒ‰ãŒã‚ã‚Šã€ã“ã‚Œã¯æœŸå¾…ã§ããã†ã§ã™ã€‚ã“ã‚Œã¯2ã¤ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’å—ã‘å–ã‚Šã¾ã™ã€‚ `to: PublicKey`ã¨`lamports: number`ã§ã™ã€‚

![](/public/images/Solana-Wallet/section-3/3_1_1.png)

```javascript
const signature = await connection.requestAirdrop(
  account.publicKey,
  1 * LAMPORTS_PER_SOL,
);
```

ä¸Šè¨˜ã®ã‚ˆã†ã«`requestAirdrop`ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å‘¼ã³å‡ºã™ã¨ã€`1 SOL`ã‚’ã‚¨ã‚¢ãƒ‰ãƒ­ãƒƒãƒ—ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ `LAMPORTS_PER_SOL = 1SOL`ã«ãªã‚‹ã‹ã‚‰ã§ã™ã€‚

### Confirming airdrop

æœ€å¾Œã«ã€ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®æ®‹é«˜ã‚’è‡ªå‹•çš„ã«æ›´æ–°ã™ã‚‹å‰ã«ã€refreshæ®‹é«˜ã‚’å‘¼ã³å‡ºã™å‰ã«ã€ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ã®å°å¸³ãŒã‚¨ã‚¢ãƒ‰ãƒ­ãƒƒãƒ—ã•ã‚ŒãŸè³‡é‡‘ã§æ›´æ–°ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹æ–¹æ³•ãŒå¿…è¦ã§ã™ã€‚

ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å‹ã®æ“ä½œã¨åŒæ§˜ã«ã€ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ã®çŠ¶æ…‹å¤‰æ›´ã¯éåŒæœŸã§ã™ã€‚å®Ÿéš›ã€ã»ã¨ã‚“ã©ã®ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ãƒ»ãƒ—ãƒ­ãƒˆã‚³ãƒ«ãŒåˆ†æ•£å‹ã§ã‚ã‚‹ã“ã¨ã‚’è€ƒãˆã‚‹ã¨ã€ä¸€éƒ¨ã®æ›´æ–°ã«ã¯æ™‚é–“ãŒã‹ã‹ã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚

ã“ã®ã“ã¨ã‚’å¿µé ­ã«ç½®ã„ã¦ã€æ®‹é«˜ã‚’æ›´æ–°ã™ã‚‹å‰ã«ã‚¨ã‚¢ãƒ‰ãƒ­ãƒƒãƒ—ãŒç¢ºèªã•ã‚Œã‚‹ã®ã‚’å¾…ã¤å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã‚‚ã†ä¸€åº¦ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’æ¤œç´¢ã™ã‚‹ã¨ã€`Connection`ã‚¯ãƒ©ã‚¹ã«`confirmTransaction`ãƒ¡ã‚½ãƒƒãƒ‰ãŒã‚ã‚Šã€2ã¤ã®å¼•æ•°ã‚’å—ã‘å–ã‚Šã€ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ãŒãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã«ã‚ˆã£ã¦ç¢ºèªã•ã‚Œã‚‹ã¨è§£æ±ºã™ã‚‹ãƒ—ãƒ­ãƒŸã‚¹ã‚’è¿”ã—ã¦ã„ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚

![](./public/images/Solana-Wallet/section-3/3_1_2.png)

[`TransactionConfirmationStrategy`](https://solana-labs.github.io/solana-web3.js/types/TransactionConfirmationStrategy.html)ã«ã¤ã„ã¦ã¯ã€å®šç¾©ã«ã€Œã™ã¹ã¦ã®ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ç¢ºèªæˆ¦ç•¥ã‚’è¡¨ã™å‹ã€ã¨ã‚ã‚Šã¾ã™ã€‚Solanaã§ã¯ã€ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚’ç¢ºèªã™ã‚‹ãŸã‚ã®æ–¹æ³•ãŒè¤‡æ•°ç”¨æ„ã•ã‚Œã¦ãŠã‚Šã€ã“ã‚Œã‚‰ã‚’ã²ã¨ã¾ã¨ã‚ã«è¡¨ã™å‹åã¨ã—ã¦TransactionConfirmationStrategyãŒç”¨æ„ã•ã‚Œã¦ã„ã¾ã™ã€‚ãƒªãƒ³ã‚¯å…ˆã‚’ç¢ºèªã™ã‚‹ã¨ã€ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ãŒæœ‰åŠ¹ã§ã‚ã‚‹æœ€å¾Œã®ãƒ–ãƒ­ãƒƒã‚¯ã®é«˜ã•ã‚’ç”¨ã„ã¦ç¢ºèªã™ã‚‹æ–¹æ³•ã¨ã€Nonceã‚’ç”¨ã„ã¦ç¢ºèªã™ã‚‹æ–¹æ³•ãŒç”¨æ„ã•ã‚Œã¦ã„ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚ä»Šå›ã¯ã€ä¸€èˆ¬çš„ãªã‚¢ãƒ—ãƒ­ãƒ¼ãƒã¨ã—ã¦ãƒ–ãƒ­ãƒƒã‚¯ã®é«˜ã•ã‚’ç”¨ã„ã¦ç¢ºèªã™ã‚‹æ–¹æ³•ã‚’é¸æŠã—ã¾ã™ã€‚

ã§ã¯ã€æœ€æ–°ã®ãƒ–ãƒ­ãƒƒã‚¯ã«ã¤ã„ã¦ã®ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹ã«ã¯ã©ã†ã™ã‚Œã°ã‚ˆã„ã§ã—ã‚‡ã†ã‹ã€‚å†åº¦ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’æ¤œç´¢ã™ã‚‹ã¨ã€`Connection`ã‚¯ãƒ©ã‚¹ã«ã¯ã€`getLatestBlockhash`ãƒ¡ã‚½ãƒƒãƒ‰ãŒã‚ã‚Šã€æœ€æ–°ã®ãƒ–ãƒ­ãƒƒã‚¯ã®ãƒãƒƒã‚·ãƒ¥ã¨ã€ãã®ãƒ–ãƒ­ãƒƒã‚¯ã®é«˜ã•ã‚’è¿”ã™ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚

![](./public/images/Solana-Wallet/section-3/3_1_3.png)

ãã‚Œã§ã¯ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚è€ƒã«`confirmTransaction`ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å‘¼ã³å‡ºã—ã¾ã—ã‚‡ã†ã€‚ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã®æˆåŠŸã‚’ç¢ºèªã™ã‚‹ãŸã‚ã«ã¯ã€`confirmTransaction`ãƒ¡ã‚½ãƒƒãƒ‰ãŒè¿”ã™ãƒ—ãƒ­ãƒŸã‚¹ã®`value`ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ç¢ºèªã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚`value`ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¯ã€`signature`ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¨`err`ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’æŒã¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’è¿”ã—ã¾ã™ã€‚`err`ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒ`null`ã§ã‚ã‚Œã°ã€ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã¯æˆåŠŸã—ã¦ã„ã¾ã™ã€‚

```javascript
const latestBlockHash = await connection.getLatestBlockhash();
await connection
  .confirmTransaction(
    {
      signature,
      blockhash: latestBlockHash.blockhash,
      lastValidBlockHeight: latestBlockHash.lastValidBlockHeight,
    },
    'confirmed',
  )
  .then((response) => {
    const signatureResult = response.value;
    if (signatureResult.err) {
      console.error('Transaction failed: ', signatureResult.err);
    }
  });
```

ã“ã“ã§ã€æ®‹é«˜ç¢ºèªã®ãŸã‚å¤‰æ•°ã‚’ä»£å…¥ã™ã‚‹å¿…è¦ãŒãªã„ã“ã¨ã«æ³¨æ„ã—ã¦ãã ã•ã„ã€‚ã‚¦ã‚©ãƒ¬ãƒƒãƒˆã¯ã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã«ã‚ˆã£ã¦ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ãŒç¢ºèªã•ã‚ŒãŸã“ã¨ã‚’çŸ¥ã‚‹ã¨ã€`refreshBalance`é–¢æ•°ã‚’å‘¼ã³å‡ºã—ã¦ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®æ®‹é«˜ã‚’æ›´æ–°ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

ä¸‹è¨˜ã®ã‚³ãƒ¼ãƒ‰ã‚’try{}å†…ã®æœ€å¾Œã«è¿½åŠ ã—ã¾ã™ã€‚

```javascript
await refreshBalance();
```

æœ€å¾Œã«ã€ `Airdrop`ãƒœã‚¿ãƒ³ã‚’å®Ÿè£…ã—ã¾ã—ã‚‡ã†ï¼ returnæ–‡ã‚’ä¸‹è¨˜ã®ã‚³ãƒ¼ãƒ‰ã§æ›´æ–°ã—ã¦ãã ã•ã„ã€‚

```javascript
return (
  <button
    className="p-2 my-6 text-white bg-indigo-500 focus:ring focus:ring-indigo-300 rounded-lg cursor-pointer"
    onClick={handleAirdrop}
  >
    Airdrop
  </button>
);
```

`Airdrop`ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å®Ÿè£…ãŒå®Œäº†ã—ãŸã®ã§ã€ãƒ†ã‚¹ãƒˆã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œã—ã¦æ¨¡æ“¬çš„ã«å‹•ä½œç¢ºèªã‚’ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ä¸Šã§`npm run test`ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚

components/Airdrop/index.test.jsãŒ`PASS`ã—ã€`Test Suites`ãŒä¸‹è¨˜ã®ã‚ˆã†ã«ãªã£ã¦ã„ãŸã‚‰OKã§ã™ï¼

```
Test Suites: 1 failed, 4 passed, 5 total
```

ãã‚Œã§ã¯ã€`Airdrop`ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’`Home`ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«çµ„ã¿è¾¼ã‚“ã§`Airdrop`ãƒœã‚¿ãƒ³ã‚’è¡¨ç¤ºã—ã¾ã—ã‚‡ã†ã€‚`pages/index.js`ã‚’æ›´æ–°ã—ã¦ã„ãã¾ã™ã€‚

ã‚¤ãƒ³ãƒãƒ¼ãƒˆæ–‡ã‚’è¿½åŠ ã—ã¾ã™ã€‚

```javascript
import Airdrop from '../components/Airdrop';
```

`Airdrop`ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å‘¼ã³å‡ºã™ã‚³ãƒ¼ãƒ‰ã‚’è¿½åŠ ã—ã¦ã€ãƒœã‚¿ãƒ³ã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã—ã¾ã™ã€‚

```javascript
<div>
  <h2 className="p-2 border-dotted border-l-4 border-l-indigo-400">
    STEP4: ã‚¨ã‚¢ãƒ‰ãƒ­ãƒƒãƒ—æ©Ÿèƒ½ã‚’å®Ÿè£…ã™ã‚‹
  </h2>
  {/* ä¸‹è¨˜ã‚’è¿½åŠ  */}
  {account && (
    <Airdrop
      account={account}
      network={network}
      refreshBalance={refreshBalance}
    />
  )}
</div>
```

### âœ… å‹•ä½œç¢ºèª

ãŠã‚ã§ã¨ã†ã”ã–ã„ã¾ã™!ã“ã‚Œã§ã‚¨ã‚¢ãƒ‰ãƒ­ãƒƒãƒ—ã®æ©Ÿèƒ½ãŒå®Œæˆã—ã¾ã—ãŸã€‚

å®Ÿéš›ã«`Airdrop`ãƒœã‚¿ãƒ³ã‚’æŠ¼ä¸‹ã—ã¦ã€æ®‹é«˜ãŒå¢—ãˆã¦ã„ã‚Œã°æˆåŠŸã§ã™!

### ğŸ“ ã“ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§è¿½åŠ ã—ãŸã‚³ãƒ¼ãƒ‰

- `components/Airdrop/index.js`

```javascript
import { Connection, LAMPORTS_PER_SOL } from '@solana/web3.js';

export default function Airdrop({ account, network, refreshBalance }) {
  const handleAirdrop = async () => {
    try {
      const connection = new Connection(network, 'confirmed');
      const publicKey = account.publicKey;
      const signature = await connection.requestAirdrop(
        publicKey,
        1 * LAMPORTS_PER_SOL,
      );

      const latestBlockHash = await connection.getLatestBlockhash();
      await connection
        .confirmTransaction(
          {
            signature,
            blockhash: latestBlockHash.blockhash,
            lastValidBlockHeight: latestBlockHash.lastValidBlockHeight,
          },
          'confirmed',
        )
        .then((response) => {
          const signatureResult = response.value;
          if (signatureResult.err) {
            console.error('Transaction failed: ', signatureResult.err);
          }
        });

      // ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®æ®‹é«˜ã‚’æ›´æ–°ã—ã¾ã™ã€‚
      await refreshBalance();
    } catch (error) {
      console.error(error);
    }
  };
  return (
    <button
      className="p-2 my-6 text-white bg-indigo-500 focus:ring focus:ring-indigo-300 rounded-lg cursor-pointer"
      onClick={handleAirdrop}
    >
      Airdrop
    </button>
  );
}
```

- `pages/index.js`

```diff
import { clusterApiUrl, Connection, LAMPORTS_PER_SOL } from '@solana/web3.js';
import { useEffect, useState } from 'react'; // useEffectã®è¿½åŠ 

+import Airdrop from '../components/Airdrop';
import GenerateWallet from '../components/GenerateWallet/';
import GetBalance from '../components/GetBalance';
import HeadComponent from '../components/Head';
import ImportWallet from '../components/ImportWallet';

export default function Home() {

  // ===== çœç•¥ =====

  return (
    <div>

      // ===== çœç•¥ =====

        <div>
          <h2 className="p-2 border-dotted border-l-4 border-l-indigo-400">
            STEP3: æ®‹é«˜ã‚’å–å¾—ã™ã‚‹
          </h2>
          {account && <GetBalance refreshBalance={refreshBalance} />}
        </div>
        <hr className="my-6" />
        <div>
          <h2 className="p-2 border-dotted border-l-4 border-l-indigo-400">
            STEP4: ã‚¨ã‚¢ãƒ‰ãƒ­ãƒƒãƒ—æ©Ÿèƒ½ã‚’å®Ÿè£…ã™ã‚‹
          </h2>
+          {account && (
+            <Airdrop
+              account={account}
+              network={network}
+              refreshBalance={refreshBalance}
+            />
+          )}
        </div>
        <hr className="my-6" />
        <div>
          <h2 className="p-2 border-dotted border-l-4 border-l-indigo-400">
            STEP5: é€é‡‘æ©Ÿèƒ½ã‚’å®Ÿè£…ã™ã‚‹
          </h2>
        </div>
      </div>
    </div>
  );
}
```

### ğŸ™‹â€â™‚ï¸ è³ªå•ã™ã‚‹

ã“ã“ã¾ã§ã®ä½œæ¥­ã§ä½•ã‹ã‚ã‹ã‚‰ãªã„ã“ã¨ãŒã‚ã‚‹å ´åˆã¯ã€Discordã®`#solana`ã§è³ªå•ã‚’ã—ã¦ãã ã•ã„ã€‚

ãƒ˜ãƒ«ãƒ—ã‚’ã™ã‚‹ã¨ãã®ãƒ•ãƒ­ãƒ¼ãŒå††æ»‘ã«ãªã‚‹ã®ã§ã€ã‚¨ãƒ©ãƒ¼ãƒ¬ãƒãƒ¼ãƒˆã«ã¯ä¸‹è¨˜ã®3ç‚¹ã‚’è¨˜è¼‰ã—ã¦ãã ã•ã„ âœ¨

```
1. è³ªå•ãŒé–¢é€£ã—ã¦ã„ã‚‹ã‚»ã‚¯ã‚·ãƒ§ãƒ³ç•ªå·ã¨ãƒ¬ãƒƒã‚¹ãƒ³ç•ªå·
2. ä½•ã‚’ã—ã‚ˆã†ã¨ã—ã¦ã„ãŸã‹
3. ã‚¨ãƒ©ãƒ¼æ–‡ã‚’ã‚³ãƒ”ãƒ¼&ãƒšãƒ¼ã‚¹ãƒˆ
4. ã‚¨ãƒ©ãƒ¼ç”»é¢ã®ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ
```
---

ãŠã‚ã§ã¨ã†ã”ã–ã„ã¾ã™âœ¨ã‚¨ã‚¢ãƒ‰ãƒ­ãƒƒãƒ—æ©Ÿèƒ½ãŒå®Œæˆã—ã¾ã—ãŸ!
æ¬¡ã®ãƒ¬ãƒƒã‚¹ãƒ³ã«é€²ã‚“ã§ã€é€é‡‘æ©Ÿèƒ½ã‚’å®Ÿè£…ã—ã¦ã„ãã¾ã—ã‚‡ã†ğŸ˜Š
