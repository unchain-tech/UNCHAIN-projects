---
title: "â›½ï¸ Biconomyã«ã‚ˆã‚‹ã‚¬ã‚¹ãƒ¬ã‚¹ãƒŸãƒ³ãƒˆã®å®Ÿè£…"
---

ã“ã®ãƒ¬ãƒƒã‚¹ãƒ³ã§ã¯ã€**Biconomy** ã‚’ä½¿ç”¨ã—ã¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚¬ã‚¹ä»£ã‚’æ”¯æ‰•ã†ã“ã¨ãªãNFTã‚’ãƒŸãƒ³ãƒˆã§ãã‚‹æ©Ÿèƒ½ã‚’å®Ÿè£…ã—ã¾ã™ï¼

Biconomyã® **Smart Account** ã¨ **Paymaster** æ©Ÿèƒ½ã«ã‚ˆã‚Šã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ã‚¬ã‚¹ä»£ã‚’ä¸€åˆ‡æ°—ã«ã™ã‚‹ã“ã¨ãªãã€ã‚·ãƒ¼ãƒ ãƒ¬ã‚¹ã«ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ä¸Šã§ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚’å®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

## ğŸš€ Biconomyã¨ã¯ï¼Ÿ

[Biconomy](https://www.biconomy.io/) ã¯ã€web3ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã‚’åŠ‡çš„ã«æ”¹å–„ã™ã‚‹ãŸã‚ã®ã‚¤ãƒ³ãƒ•ãƒ©ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£ã§ã™ã€‚ä¸»ãªæ©Ÿèƒ½ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ã€‚

- **Account Abstraction ï¼ˆAAï¼‰**:   
  å¾“æ¥ã®EOAï¼ˆExternally Owned Accountï¼‰ã®åˆ¶ç´„ã‚’è¶…ãˆã¦ã€ãƒ—ãƒ­ã‚°ãƒ©ãƒãƒ–ãƒ«ãªã‚¹ãƒãƒ¼ãƒˆã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã‚¦ã‚©ãƒ¬ãƒƒãƒˆã‚’æä¾›ã—ã¾ã™ã€‚

- **Gasless Transactions**:   
  **Paymaster** ã«ã‚ˆã‚Šã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ä»£ã‚ã‚Šã«ã‚¬ã‚¹ä»£ã‚’æ”¯æ‰•ã„ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ç½²åã®ã¿ã§ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚’å®Ÿè¡Œã§ãã¾ã™ã€‚

- **Bundled Transactions**:   
  è¤‡æ•°ã®ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚’1ã¤ã«ã¾ã¨ã‚ã¦å®Ÿè¡Œã—ã€åŠ¹ç‡æ€§ã¨ã‚³ã‚¹ãƒˆã‚’æœ€é©åŒ–ã—ã¾ã™ã€‚

## ğŸ›  Biconomyã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

ã¾ãšã€Biconomyã®æœ€æ–°SDKã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚

```bash
cd pkgs/frontend
pnpm install @biconomy/abstractjs
```

### ç’°å¢ƒå¤‰æ•°ã®è¨­å®š

Biconomyã‚’ä½¿ç”¨ã™ã‚‹ãŸã‚ã«å¿…è¦ãªAPIã‚­ãƒ¼ã‚’è¨­å®šã—ã¾ã™ã€‚

1. [Biconomy Dashboard](https://dashboard.biconomy.io/) ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½œæˆ
2. æ–°ã—ã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ã€Base Sepoliaãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚’é¸æŠ
3. **Bundler API Key** ã¨ **Paymaster API Key** ã‚’å–å¾—

å–å¾—ã—ãŸAPIã‚­ãƒ¼ã‚’`.env.local`ã«è¿½åŠ ã—ã¾ã™ï¼š

```bash
# pkgs/frontend/.env.local
NEXT_PUBLIC_BICONOMY_BUNDLER_API_KEY="YOUR_BUNDLER_API_KEY"
NEXT_PUBLIC_BICONOMY_PAYMASTER_API_KEY="YOUR_PAYMASTER_API_KEY"
```

### ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã‚¢ãƒ‰ãƒ¬ã‚¹ã®è¨­å®š

`lib/utils.ts`ã«ã‚¹ãƒãƒ¼ãƒˆã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã®ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å®šç¾©ã—ã¾ã™ï¼š

```typescript
// pkgs/frontend/lib/utils.ts
import { clsx, type ClassValue } from "clsx";
import { twMerge } from "tailwind-merge";

export function cn(...inputs: ClassValue[]) {
  return twMerge(clsx(inputs));
}

export const NEXUS_IMPLEMENTATION = "0x000000004F43C49e93C970E84001853a70923B03";

export const USDC_ADDRESS = "0x036CbD53842c5426634e7929541eC2318f3dCF7e";

// ZKNFTã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã®ã‚¢ãƒ‰ãƒ¬ã‚¹ï¼ˆsection-3ã§ãƒ‡ãƒ—ãƒ­ã‚¤ã—ãŸã‚‚ã®ï¼‰
export const ZKNFT_CONTRACT_ADDRESS = "YOUR_DEPLOYED_CONTRACT_ADDRESS" as const;
```

**â€» `YOUR_DEPLOYED_CONTRACT_ADDRESS`ã¯ã€section-3 ã§ãƒ‡ãƒ—ãƒ­ã‚¤ã—ãŸå®Ÿéš›ã®ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã‚¢ãƒ‰ãƒ¬ã‚¹ã«ç½®ãæ›ãˆã¦ãã ã•ã„ã€‚**

## ğŸ£ useBiconomyãƒ•ãƒƒã‚¯ã®å®Ÿè£…

Biconomyã®å…¨ã¦ã®æ©Ÿèƒ½ã‚’é›†ç´„ã—ãŸã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ã‚’ä½œæˆã—ã¾ã™ã€‚

`hooks/useBiconomy.ts`ã‚’ä½œæˆã—ã€ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã‚’è¨˜è¿°ã—ã¾ã™ï¼š

```typescript
// pkgs/frontend/hooks/useBiconomy.ts
import {
  type NexusClient,
  createBicoPaymasterClient,
  createSmartAccountClient,
  toNexusAccount,
} from "@biconomy/abstractjs";
import { useWallets } from "@privy-io/react-auth";
import { ZKNFT_ABI } from "lib/abi";
import { ZKNFT_CONTRACT_ADDRESS } from "lib/utils";
import { useCallback, useState } from "react";
import {
  type Abi,
  createWalletClient,
  custom,
  encodeFunctionData,
  http,
} from "viem";
import { baseSepolia } from "viem/chains";

// ã‚¼ãƒ­çŸ¥è­˜è¨¼æ˜ã®ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã‚’å®šç¾©ã™ã‚‹å‹
interface ZKProof {
  a: [string, string];
  b: [[string, string], [string, string]];
  c: [string, string];
}

// Biconomyã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®çŠ¶æ…‹ã‚’ç®¡ç†ã™ã‚‹å‹
interface BiconomyAccountState {
  nexusAccount: NexusClient | null;
  address: string | null;
  isLoading: boolean;
  error: string | null;
}

// initializeBiconomyAccount ã®æˆ»ã‚Šå€¤ã®å‹
interface InitializeAccountResult {
  nexusClient: NexusClient;
  address: string;
}

/**
 * Biconomyã®ã‚¹ãƒãƒ¼ãƒˆã‚¢ã‚«ã‚¦ãƒ³ãƒˆæ©Ÿèƒ½ã‚’ç®¡ç†ã™ã‚‹ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯
 *
 * @returns Biconomyã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®çŠ¶æ…‹ã¨æ“ä½œãƒ¡ã‚½ãƒƒãƒ‰
 */
export const useBiconomy = () => {
  const { wallets } = useWallets();

  // ã‚¨ãƒ³ãƒ™ãƒ‡ãƒƒãƒ‰ã‚¦ã‚©ãƒ¬ãƒƒãƒˆã®å–å¾—ï¼ˆã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°æ”¹å–„ï¼‰
  const embeddedWallet = wallets?.[0];

  // Biconomyã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®çŠ¶æ…‹ã‚’ç®¡ç†ã™ã‚‹
  const [accountState, setAccountState] = useState<BiconomyAccountState>({
    nexusAccount: null,
    address: null,
    isLoading: false,
    error: null,
  });

  /**
   * Biconomyã‚¹ãƒãƒ¼ãƒˆã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’åˆæœŸåŒ–ã™ã‚‹
   *
   * @returns åˆæœŸåŒ–ã•ã‚ŒãŸnexusClientã¨ã‚¢ãƒ‰ãƒ¬ã‚¹
   */
  const initializeBiconomyAccount =
    useCallback(async (): Promise<InitializeAccountResult> => {
      try {
        setAccountState((prev) => ({ ...prev, isLoading: true, error: null }));

        if (!embeddedWallet) {
          throw new Error("Embedded wallet is not available");
        }

        const provider = await embeddedWallet.getEthereumProvider();
        // Create a signer Object for the embedded wallet
        const walletClient = createWalletClient({
          account: embeddedWallet.address as `0x${string}`,
          chain: baseSepolia,
          transport: custom(provider),
        });

        // Create Smart Account Client
        const nexusClient = createSmartAccountClient({
          account: await toNexusAccount({
            signer: walletClient,
            chain: baseSepolia,
            transport: http(),
          }),
          transport: http(
            `https://bundler.biconomy.io/api/v3/${baseSepolia.id}/${process.env.NEXT_PUBLIC_BICONOMY_BUNDLER_API_KEY}`,
          ),
          paymaster: createBicoPaymasterClient({
            paymasterUrl: `https://paymaster.biconomy.io/api/v2/${baseSepolia.id}/${process.env.NEXT_PUBLIC_BICONOMY_PAYMASTER_API_KEY}`,
          }),
        });
        // get the smart account address
        const address = await nexusClient.account.address;

        console.log("Nexus Account:", address);
        console.log("done initializing Biconomy account");

        setAccountState({
          nexusAccount: nexusClient,
          address: embeddedWallet.address,
          isLoading: false,
          error: null,
        });

        return { nexusClient, address };
      } catch (error) {
        const errorMessage =
          error instanceof Error ? error.message : "Unknown error occurred";
        setAccountState((prev) => ({
          ...prev,
          isLoading: false,
          error: errorMessage,
        }));
        throw error; // ã‚¨ãƒ©ãƒ¼ã‚’å†ã‚¹ãƒ­ãƒ¼ã—ã¦å‘¼ã³å‡ºã—å…ƒã§ã‚­ãƒ£ãƒƒãƒã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹
      }
    }, [embeddedWallet]);

  /**
   * NFTã‚’ãƒŸãƒ³ãƒˆã™ã‚‹ãŸã‚ã®ãƒ¡ã‚½ãƒƒãƒ‰
   *
   * @param nexusClient NexusClientã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹
   * @param proof ã‚¼ãƒ­çŸ¥è­˜è¨¼æ˜ã®ãƒ‡ãƒ¼ã‚¿(é…åˆ—)
   * @param publicSignals ãƒ‘ãƒ–ãƒªãƒƒã‚¯ã‚·ã‚°ãƒŠãƒ«ã®ãƒ‡ãƒ¼ã‚¿(é…åˆ—)
   * @returns ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ãƒãƒƒã‚·ãƒ¥å€¤
   */
  const mintNFT = useCallback(
    async (
      nexusClient: NexusClient,
      proof: ZKProof,
      publicSignals: string[],
    ): Promise<string | null> => {
      try {
        console.log("Minting NFT with proof:", proof);

        // å®Ÿè¡Œã—ãŸã„ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ãƒ‡ãƒ¼ã‚¿ã®function call dataã‚’ä½œæˆ
        const functionCallData = encodeFunctionData({
          abi: ZKNFT_ABI as Abi,
          functionName: "safeMint",
          args: [
            embeddedWallet.address,
            proof.a,
            proof.b,
            proof.c,
            publicSignals,
          ],
        });

        console.log("Function call data:", functionCallData);

        // ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚’é€ä¿¡
        const hash = await nexusClient.sendTransaction({
          to: ZKNFT_CONTRACT_ADDRESS,
          data: functionCallData,
          chain: baseSepolia,
        });

        console.log("Submitted tx hash:", hash);

        // ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã®ç¢ºèªã‚’å¾…ã¤
        const receipt = await nexusClient.waitForTransactionReceipt({ hash });
        console.log("Transaction receipt: ", receipt);

        return hash;
      } catch (error) {
        console.error("Error minting NFT:", error);
        throw error; // ã‚¨ãƒ©ãƒ¼ã‚’å†ã‚¹ãƒ­ãƒ¼ã—ã¦å‘¼ã³å‡ºã—å…ƒã§ã‚­ãƒ£ãƒƒãƒã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹
      }
    },
    [embeddedWallet?.address],
  );

  return {
    // ã‚¢ã‚«ã‚¦ãƒ³ãƒˆçŠ¶æ…‹
    smartAccount: accountState.nexusAccount,
    address: accountState.address,
    isLoading: accountState.isLoading,
    error: accountState.error,

    // ãƒ¡ã‚½ãƒƒãƒ‰
    initializeBiconomyAccount,
    mintNFT,
  };
};
```

### ğŸ” ã‚³ãƒ¼ãƒ‰è§£èª¬

#### ãƒ•ãƒƒã‚¯ã®æ§‹é€ 

- **`useWallets`**:   
  Privyã‹ã‚‰ã‚¨ãƒ³ãƒ™ãƒ‡ãƒƒãƒ‰ã‚¦ã‚©ãƒ¬ãƒƒãƒˆæƒ…å ±ã‚’å–å¾—

- **çŠ¶æ…‹ç®¡ç†**:   
  Reactã®`useState`ã§Biconomyã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®çŠ¶æ…‹ã‚’ç®¡ç†

- **å‹å®‰å…¨æ€§**:   
  TypeScriptã®å‹å®šç¾©ã§å³å¯†ãªå‹ãƒã‚§ãƒƒã‚¯ã‚’å®Ÿè£…

#### `initializeBiconomyAccount`ãƒ¡ã‚½ãƒƒãƒ‰

1. **ã‚¦ã‚©ãƒ¬ãƒƒãƒˆã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆä½œæˆ**:   
  Privyã®åŸ‹ã‚è¾¼ã¿ã‚¦ã‚©ãƒ¬ãƒƒãƒˆã‹ã‚‰viemã®ã‚¦ã‚©ãƒ¬ãƒƒãƒˆã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’ä½œæˆ

2. **Nexus ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ**:  
  Biconomyã®ã‚¹ãƒãƒ¼ãƒˆã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’åˆæœŸåŒ–

3. **Paymaster è¨­å®š**:   
  ã‚¬ã‚¹ä»£ã‚’è‚©ä»£ã‚ã‚Šã™ã‚‹Paymasterã‚’è¨­å®š

#### `mintNFT`ãƒ¡ã‚½ãƒƒãƒ‰

1. **é–¢æ•°ãƒ‡ãƒ¼ã‚¿ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰**:   
  `safeMint`é–¢æ•°ã®å‘¼ã³å‡ºã—ãƒ‡ãƒ¼ã‚¿ã‚’ç”Ÿæˆ

2. **ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³é€ä¿¡**:   
  BiconomyçµŒç”±ã§ã‚¬ã‚¹ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚’å®Ÿè¡Œ

3. **ç¢ºèªå¾…ã¡**:   
  ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã®ç¢ºèªã‚’å¾…ã¡ã€ãƒ¬ã‚·ãƒ¼ãƒˆã‚’å–å¾—

## ğŸ¯ ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§ã®çµ±åˆ

æœ€å¾Œã«ã€`app/dashboard/page.tsx`ã§`useBiconomy`ãƒ•ãƒƒã‚¯ã‚’ä½¿ç”¨ã—ã¦NFTãƒŸãƒ³ãƒˆæ©Ÿèƒ½ã‚’å®Œæˆã•ã›ã¾ã™ã€‚

```tsx
// pkgs/frontend/app/dashboard/page.tsx
"use client";

import { usePrivy } from "@privy-io/react-auth";
import { useBiconomy } from "hooks/useBiconomy";
import { useRouter } from "next/navigation";
import { useEffect, useState } from "react";
import { toast } from "react-hot-toast";
import { Header } from "../../components/layout/header";
import { Button } from "../../components/ui/button";
import {
  Card,
  CardContent,
  CardDescription,
  CardHeader,
  CardTitle,
} from "../../components/ui/card";
import { Input } from "../../components/ui/input";
import { Label } from "../../components/ui/label";
import { LoadingSpinner } from "../../components/ui/loading";
import { generateProof, hashPassword } from "./../../lib/zk-utils";

// å‹•çš„ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚’å¼·åˆ¶ã—ã¦ãƒ—ãƒªãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚¨ãƒ©ãƒ¼ã‚’å›é¿
export const dynamic = "force-dynamic";

/**
 * ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ï¼ˆNFTãƒŸãƒ³ãƒˆç”»é¢ï¼‰ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
 */
export default function DashboardPage() {
  const router = useRouter();
  const { ready, authenticated } = usePrivy();

  // æœªèªè¨¼ã®å ´åˆã¯ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ
  useEffect(() => {
    if (ready && !authenticated) {
      router.push("/");
    }
  }, [ready, authenticated, router]);

  // PrivyãŒåˆæœŸåŒ–ä¸­ã®å ´åˆã¯ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¡¨ç¤º
  if (!ready) {
    return (
      <div className="min-h-screen bg-gradient-to-br from-blue-900 via-purple-900 to-indigo-900 flex items-center justify-center">
        <LoadingSpinner size="lg" />
      </div>
    );
  }

  // æœªèªè¨¼ã®å ´åˆã¯ä½•ã‚‚è¡¨ç¤ºã—ãªã„ï¼ˆãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆä¸­ï¼‰
  if (!authenticated) {
    return null;
  }

  // èªè¨¼æ¸ˆã¿ã®å ´åˆã«ã®ã¿ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’è¡¨ç¤º
  return <AuthenticatedDashboard />;
}

/**
 * èªè¨¼æ¸ˆã¿ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘ã®ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚³ãƒ³ãƒ†ãƒ³ãƒ„
 */
function AuthenticatedDashboard() {
  const { initializeBiconomyAccount, mintNFT } = useBiconomy();

  // NFTãƒŸãƒ³ãƒˆç”¨ã®state
  const [password, setPassword] = useState("");
  const [isMinting, setIsMinting] = useState(false);
  const [mintedTokens, setMintedTokens] = useState<
    Array<{
      tokenId: string;
      tokenURI: string;
      transactionHash: string;
    }>
  >([]);

  /**
   * NFTã‚’ãƒŸãƒ³ãƒˆã™ã‚‹ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ãƒ¡ã‚½ãƒƒãƒ‰
   * @returns
   */
  const handleMintNFT = async () => {
    if (!password.trim()) {
      toast.error("ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„");
      return;
    }

    setIsMinting(true);

    try {
      toast.loading("ZK Proofã‚’ç”Ÿæˆä¸­...", { id: "minting" });

      // ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‹ã‚‰inputãƒ‡ãƒ¼ã‚¿ã‚’ç”Ÿæˆ
      const result = await hashPassword(password);
      const passwordNumber = result.data?.passwordNumber;
      // ZK Proofã‚’ç”Ÿæˆ
      // @ts-expect-error this is a workaround for the type error
      const proofResult = await generateProof(passwordNumber);

      if (!proofResult.success || !proofResult.data) {
        throw new Error(proofResult.error || "failed to generate proof");
      }

      toast.loading("NFTã‚’ãƒŸãƒ³ãƒˆä¸­...", { id: "minting" });

      // Biconomyã‚’åˆæœŸåŒ–ã—ã¦Smart Walletã‚’ä½œæˆã™ã‚‹
      const { nexusClient, address: smartWalletAddress } =
        await initializeBiconomyAccount();

      if (!smartWalletAddress) {
        throw new Error("Smart wallet initialization failed");
      }

      console.log("Smart wallet Address:", smartWalletAddress);

      // NFTã‚’ãƒŸãƒ³ãƒˆã™ã‚‹
      const hash = await mintNFT(
        nexusClient,
        proofResult.data.proof,
        proofResult.data.publicSignals,
      );

      console.log("Minted NFT transaction hash:", hash);

      setPassword("");
      toast.success("NFTã®ãƒŸãƒ³ãƒˆãŒå®Œäº†ã—ã¾ã—ãŸï¼", { id: "minting" });
    } catch (error) {
      console.error("Mint error:", error);
      const errorMessage =
        error instanceof Error ? error.message : "Unknown error occurred";
      toast.error("ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ: " + errorMessage, { id: "minting" });
    } finally {
      setIsMinting(false);
    }
  };

  return (
    <div className="min-h-screen bg-gradient-to-br from-blue-900 via-purple-900 to-indigo-900">
      <Header />

      <main className="container mx-auto px-4 py-8">
        <div className="max-w-2xl mx-auto space-y-8">
          {/* ãƒ¡ã‚¤ãƒ³ã®ãƒŸãƒ³ãƒˆã‚«ãƒ¼ãƒ‰ */}
          <Card className="glass-effect border-white/20 shadow-2xl">
            <CardHeader className="text-center space-y-4">
              <div className="mx-auto w-20 h-20 bg-gradient-to-r from-purple-500 to-pink-600 rounded-full flex items-center justify-center">
                <div className="text-3xl font-bold text-white">ğŸ¨</div>
              </div>
              <CardTitle className="text-2xl font-bold text-white">
                Mint Your ZK NFT
              </CardTitle>
              <CardDescription className="text-gray-300">
                Enter a secret password to mint your zero-knowledge NFT
              </CardDescription>
            </CardHeader>

            <CardContent className="space-y-6">
              {/* ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ */}
              <div className="space-y-2">
                <Label htmlFor="password" className="text-white font-medium">
                  Secret Password
                </Label>
                <Input
                  id="password"
                  type="password"
                  value={password}
                  onChange={(e) => setPassword(e.target.value)}
                  placeholder="Enter your secret password..."
                  className="bg-white/10 border-white/20 text-white placeholder-gray-400 focus:border-purple-400 focus:ring-purple-400"
                  disabled={isMinting}
                />
                <div className="text-xs text-gray-400">
                  This password will be used to generate a zero-knowledge proof
                  without revealing it on the blockchain.
                </div>
              </div>

              {/* ãƒŸãƒ³ãƒˆãƒœã‚¿ãƒ³ */}
              <Button
                onClick={handleMintNFT}
                disabled={isMinting || !password.trim()}
                className="w-full h-12 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-semibold rounded-lg neon-glow transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed"
                size="lg"
              >
                {isMinting ? (
                  <div className="flex items-center space-x-2">
                    <LoadingSpinner size="sm" />
                    <span>Minting...</span>
                  </div>
                ) : (
                  "ğŸ¯ Mint NFT with ZK Proof"
                )}
              </Button>

              {/* ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æƒ…å ± */}
              <div className="bg-purple-900/30 rounded-lg p-4 border border-purple-500/30">
                <div className="text-sm text-purple-200">
                  <div className="font-semibold mb-1">ğŸ”’ Zero-Knowledge Privacy</div>
                  <div className="text-xs">
                    Your password is never revealed on the blockchain. Only a
                    cryptographic proof that you know the password is stored.
                  </div>
                </div>
              </div>

              {/* ã‚¬ã‚¹ãƒ¬ã‚¹æƒ…å ± */}
              <div className="bg-green-900/30 rounded-lg p-4 border border-green-500/30">
                <div className="text-sm text-green-200">
                  <div className="font-semibold mb-1">â›½ï¸ Gas-Free Transaction</div>
                  <div className="text-xs">
                    This transaction is sponsored by Biconomy. You won&apos;t pay any
                    gas fees!
                  </div>
                </div>
              </div>
            </CardContent>
          </Card>

          {/* ãƒŸãƒ³ãƒˆæ¸ˆã¿NFTä¸€è¦§ï¼ˆå®Ÿè£…æ™‚ã«è¿½åŠ äºˆå®šï¼‰ */}
          {mintedTokens.length > 0 && (
            <Card className="glass-effect border-white/20 shadow-2xl">
              <CardHeader>
                <CardTitle className="text-xl font-bold text-white">
                  Your Minted NFTs
                </CardTitle>
              </CardHeader>
              <CardContent>
                <div className="grid gap-4">
                  {mintedTokens.map((token) => (
                    <div
                      key={token.tokenId}
                      className="p-4 bg-white/5 rounded-lg border border-white/10"
                    >
                      <div className="text-white font-medium">
                        Token #{token.tokenId}
                      </div>
                      <div className="text-xs text-gray-400 mt-1">
                        TX: {token.transactionHash.slice(0, 20)}...
                      </div>
                    </div>
                  ))}
                </div>
              </CardContent>
            </Card>
          )}
        </div>
      </main>
    </div>
  );
}
```

### ğŸ” ã‚³ãƒ¼ãƒ‰è§£èª¬

#### ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ§‹æˆ

- **`DashboardPage`**: ãƒ«ãƒ¼ãƒˆèªè¨¼ãƒã‚§ãƒƒã‚¯ã¨ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆå‡¦ç†
- **`AuthenticatedDashboard`**: å®Ÿéš›ã®NFTãƒŸãƒ³ãƒˆæ©Ÿèƒ½ã‚’æä¾›

#### `handleMintNFT`ãƒ¡ã‚½ãƒƒãƒ‰ã®æµã‚Œ

1. **å…¥åŠ›æ¤œè¨¼**: ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒå…¥åŠ›ã•ã‚Œã¦ã„ã‚‹ã‹ãƒã‚§ãƒƒã‚¯
2. **ZKè¨¼æ˜ç”Ÿæˆ**: `hashPassword`ã¨`generateProof`ã§ã‚¼ãƒ­çŸ¥è­˜è¨¼æ˜ã‚’ç”Ÿæˆ
3. **BiconomyåˆæœŸåŒ–**: `initializeBiconomyAccount`ã§ã‚¹ãƒãƒ¼ãƒˆã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’æº–å‚™
4. **NFTãƒŸãƒ³ãƒˆ**: `mintNFT`ã§ã‚¬ã‚¹ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚’å®Ÿè¡Œ
5. **çµæœé€šçŸ¥**: toastã§ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«çµæœã‚’é€šçŸ¥

#### Biconomyçµ±åˆã®ãƒã‚¤ãƒ³ãƒˆ

- **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**: å„æ®µéšã§é©åˆ‡ãªã‚¨ãƒ©ãƒ¼ã‚­ãƒ£ãƒƒãƒã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼é€šçŸ¥
- **ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«å‡¦ç†çŠ¶æ³ã‚’åˆ†ã‹ã‚Šã‚„ã™ãè¡¨ç¤º
- **å‹å®‰å…¨æ€§**: TypeScriptã§ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã‚¨ãƒ©ãƒ¼ã‚’é˜²æ­¢

---

ãŠç–²ã‚Œæ§˜ã§ã—ãŸï¼ 

ã“ã‚Œã§ã€ã‚¼ãƒ­çŸ¥è­˜è¨¼æ˜ã‚’æ´»ç”¨ã—ãŸã‚¬ã‚¹ãƒ¬ã‚¹NFTã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒå®Œæˆã—ã¾ã—ãŸï¼

ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’èµ·å‹•ã—ã¦ã€å®Ÿéš›ã«ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦NFTã‚’ãƒŸãƒ³ãƒˆã—ã¦ã¿ã¦ãã ã•ã„ï¼š

```bash
pnpm frontend run dev
```

ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ã‚¬ã‚¹ä»£ã‚’ä¸€åˆ‡æ”¯æ‰•ã†ã“ã¨ãªãã€ç§˜å¯†ã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’çŸ¥ã£ã¦ã„ã‚‹ã“ã¨ã‚’è¨¼æ˜ã—ã¦NFTã‚’ãƒŸãƒ³ãƒˆã§ãã‚‹ã¯ãšã§ã™ã€‚

### ğŸ™‹â€â™‚ï¸ è³ªå•ã™ã‚‹

ã“ã“ã¾ã§ã®ä½œæ¥­ã§ä½•ã‹ã‚ã‹ã‚‰ãªã„ã“ã¨ãŒã‚ã‚‹å ´åˆã¯ã€Discordã®`#zk`ã§è³ªå•ã‚’ã—ã¦ãã ã•ã„ã€‚

ãƒ˜ãƒ«ãƒ—ã‚’ã™ã‚‹ã¨ãã®ãƒ•ãƒ­ãƒ¼ãŒå††æ»‘ã«ãªã‚‹ã®ã§ã€ã‚¨ãƒ©ãƒ¼ãƒ¬ãƒãƒ¼ãƒˆã«ã¯ä¸‹è¨˜ã®3ç‚¹ã‚’è¨˜è¼‰ã—ã¦ãã ã•ã„ âœ¨

1. è³ªå•ãŒé–¢é€£ã—ã¦ã„ã‚‹ã‚»ã‚¯ã‚·ãƒ§ãƒ³ç•ªå·ã¨ãƒ¬ãƒƒã‚¹ãƒ³ç•ªå·
2. ä½•ã‚’ã—ã‚ˆã†ã¨ã—ã¦ã„ãŸã‹
3. ã‚¨ãƒ©ãƒ¼æ–‡ã‚’ã‚³ãƒ”ãƒ¼&ãƒšãƒ¼ã‚¹ãƒˆ
4. ã‚¨ãƒ©ãƒ¼ç”»é¢ã®ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ

### ğŸŒ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã™ã‚‹

[UNCHAIN](https://unchain.tech/) ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ [UNCHAIN License](https://github.com/unchain-tech/UNCHAIN-projects/blob/main/LICENSE) ã«ã‚ˆã‚Šé‹ç”¨ã•ã‚Œã¦ã„ã¾ã™ã€‚

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«å‚åŠ ã—ã¦ã„ã¦ã€ã€Œã“ã†ã™ã‚Œã°ã‚‚ã£ã¨åˆ†ã‹ã‚Šã‚„ã™ã„ã®ã«!ã€ã€Œã“ã‚Œã¯é–“é•ã£ã¦ã„ã‚‹!ã€ã¨æ€ã£ãŸã‚‰ã€ãœã²`pull request`ã‚’é€ã£ã¦ãã ã•ã„ã€‚

GitHubã‹ã‚‰ç›´æ¥ã‚³ãƒ¼ãƒ‰ã‚’ç·¨é›†ã—ã¦ä¿®æ­£ã‚’é€ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚

ã©ã‚“ãªãƒªã‚¯ã‚¨ã‚¹ãƒˆã§ã‚‚å¤§æ­“è¿ã§ã™ ğŸ‰

ã¾ãŸã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’è‡ªåˆ†ã®SNSã§ã‚·ã‚§ã‚¢ã—ã¦ãã ã•ã„ğŸ˜†

ã‚ãªãŸã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒã‚ã‚‹ã“ã¨ã§ã€ä»–ã®äººãŒZKé–‹ç™ºã‚’å§‹ã‚ã‚‹ãã£ã‹ã‘ã«ãªã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚

web3ã¸ã®ãƒãƒ¼ãƒ‰ãƒ«ã‚’ä¸€ç·’ã«ä¸‹ã’ã¦ã„ãã¾ã—ã‚‡ã† ğŸš€

### ğŸ‰ ãŠã¤ã‹ã‚Œã•ã¾ã§ã—ãŸï¼

ã‚ãªãŸã®ã‚¼ãƒ­çŸ¥è­˜NFTã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒå®Œæˆã—ã¾ã—ãŸï¼

ã‚ãªãŸã¯ã€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‹ã‚‰ZKè¨¼æ˜ã‚’ç”Ÿæˆã—ã€ã‚¬ã‚¹ãƒ¬ã‚¹ã§ã‚¹ãƒãƒ¼ãƒˆã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã‚’å®Ÿè¡Œã™ã‚‹æŠ€è¡“ã‚’ç¿’å¾—ã—ã¾ã—ãŸã€‚

ã“ã‚Œã‚‰ã¯ã€**ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ã¨ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£**ã¨ã„ã†ã€ç¾åœ¨ã®web3ãŒç›´é¢ã—ã¦ã„ã‚‹æœ€é‡è¦èª²é¡Œã‚’è§£æ±ºã™ã‚‹æœ€å…ˆç«¯æŠ€è¡“ã§ã™ã€‚

ã“ã®çŸ¥è­˜ã‚’æ´»ç”¨ã—ã¦ã€ã‚ˆã‚Šè‰¯ã„ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã‚’æä¾›ã™ã‚‹dAppã‚’ãœã²æ§‹ç¯‰ã—ã¦ãã ã•ã„ï¼